services:
  - type: web
    name: toxic-comment-detector
    env: python
    plan: free
    buildCommand: >
      pip install --upgrade pip &&
      pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.9
      # 오프라인 모드 끄기 (런타임에서 필요하면 내려받기 위함)
      - key: TRANSFORMERS_OFFLINE
        value: "0"
      # Render 대시보드에 HF_AUTH_TOKEN(Protected) 등록해두면 비공개/요청 많은 허브 접근 시 안정적
